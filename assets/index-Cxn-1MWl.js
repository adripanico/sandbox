(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const i=300,d=[[0,0,.8,0,0],[0,.8,1,.5,0],[.8,1,1,1,.8],[.5,1,1,1,.5],[0,.5,.8,.5,0]],t={canvas:null,currentColor:[0,0,0],currentMode:"warm",isMouseDown:!1};function h(){t.currentMode==="warm"?t.currentColor[0]<255?t.currentColor[0]++:t.currentColor[1]<255?t.currentColor[1]++:t.currentColor[2]<255?t.currentColor[2]++:(t.currentColor[0]=0,t.currentColor[1]=0,t.currentColor[2]=0):t.currentColor[2]<255?t.currentColor[2]++:t.currentColor[1]<255?t.currentColor[1]++:t.currentColor[0]<255?t.currentColor[0]++:(t.currentColor[0]=0,t.currentColor[1]=0,t.currentColor[2]=0)}function g(c){const s=t.canvas.getContext("2d"),o=d.length;if(s.getImageData(c.x,c.y,o,o).data.some(n=>n!==0))return;const e=s.createImageData(o,o);for(let n=0;n<o;n++)for(let a=0;a<o;a++)e.data[n*o*4+a*4]=t.currentColor[0],e.data[n*o*4+a*4+1]=t.currentColor[1],e.data[n*o*4+a*4+2]=t.currentColor[2],e.data[n*o*4+a*4+3]=Math.floor(d[n][a]*255);s.putImageData(e,c.x,c.y),h()}function v(c){const s=[];for(let o=0;o<i;o++){const r=[];for(let e=0;e<i;e++){const n=o*i*4+e*4;r.push([c.data[n],c.data[n+1],c.data[n+2],c.data[n+3]])}s.push(r)}return s}function p(c){return c.flat().flat()}function C(){const c=t.canvas.getContext("2d"),s=c.getImageData(0,0,i,i),o=v(s);for(let r=i-1;r>=0;r--)for(let e=i-1;e>=0;e--)if(r===i-1)o[r][e][3]=Number(o[r][e][3])!==255?0:255;else if(o[r][e][3]!==0){const n=o[r+1][e][3]===0,a=e>0&&o[r+1][e-1][3]===0,l=e<i-1&&o[r+1][e+1][3]===0;if(n)o[r+1][e]=o[r][e],o[r][e]=[0,0,0,0];else if(a||l){const u=a&&l?Math.random()>.5?"l":"r":a?"l":l?"r":void 0;u==="l"?(o[r+1][e-1]=o[r][e],o[r][e]=[0,0,0,0]):u==="r"&&(o[r+1][e+1]=o[r][e],o[r][e]=[0,0,0,0])}else o[r][e][3]=Number(o[r][e][3])!==255?0:255}s.data.set(p(o)),c.putImageData(s,0,0),requestAnimationFrame(C)}const f=()=>t.isMouseDown=!0,m=()=>t.isMouseDown=!1,w=c=>{const s=c.offsetX,o=c.offsetY;t.isMouseDown&&g({x:s,y:o})},y=c=>{const s=c.target.getBoundingClientRect(),o=c.targetTouches[0].pageX-s.left,r=c.targetTouches[0].pageY-s.top;t.isMouseDown&&g({x:o,y:r})},E=()=>{var c;return(c=t.canvas)==null?void 0:c.getContext("2d").clearRect(0,0,i,i)},x=()=>{t.currentColor=[0,0,0],t.currentMode=t.currentMode==="cold"?"warm":"cold",document.getElementById("switch-btn").innerText=`switch to ${t.currentMode==="cold"?"warm":"cold"}`};function M(){t.canvas.addEventListener("mousedown",f),t.canvas.addEventListener("touchstart",f),t.canvas.addEventListener("mouseup",m),t.canvas.addEventListener("touchend",m),t.canvas.addEventListener("mousemove",w),t.canvas.addEventListener("touchmove",y),document.getElementById("reset-btn").addEventListener("click",E),document.getElementById("switch-btn").addEventListener("click",x)}function I(){if(t.canvas=document.getElementById("canvas"),!t.canvas)throw Error("Canvas element not found!");t.canvas.width=t.canvas.height=i,t.canvas.style.width=t.canvas.style.height=`${i}px`,C(),M()}I();
